"use strict";function _createForOfIteratorHelper(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==t["return"]||t["return"]()}finally{if(s)throw a}}}}function asyncGeneratorStep(e,r,t,n,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void t(c)}s.done?r(l):Promise.resolve(l).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){function a(e){asyncGeneratorStep(s,n,o,a,i,"next",e)}function i(e){asyncGeneratorStep(s,n,o,a,i,"throw",e)}var s=e.apply(r,t);a(void 0)})}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){return"undefined"!=typeof Symbol&&Symbol.iterator in Object(e)?Array.from(e):void 0}function _arrayWithoutHoles(e){return Array.isArray(e)?_arrayLikeToArray(e):void 0}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);r>t;t++)n[t]=e[t];return n}function stopScroll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",r=parseInt(document.documentElement.clientWidth),t=parseInt(window.innerWidth),n=t-r;$(e).attr("style","overflow: hidden; padding-right: "+n+"px")}function freeScroll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";$(e).attr("style","")}function activatePortfolioSlider(){var e=$(".portfolio__btn"),r=".portfolio__info";e.on("click",function(){var e=$(this).closest(r).siblings(".portfolio__miniCarousel");e.toggleClass("visible"),e.fadeToggle(500),$(this).text(e.hasClass("visible")?"Скрыть":"Подробнее")})}var contentFadeInOnReady=function(){$(".preloader").fadeOut(150,function(){$(".preloader").remove()})},bindModalListeners=function(e){e.forEach(function(e){var r=$(e.trigger),t=$(e.modal);r.on("click",function(){stopScroll("body"),t.addClass("active")}),t.on("click",function(e){$(e.target).hasClass("modal")&&($(this).removeClass("active"),freeScroll())}),t.find(".modal__close").on("click",function(){t.removeClass("active"),freeScroll()}),$(document).keydown(function(e){return 27===e.keyCode?($(".modal").removeClass("active"),freeScroll(),!1):void 0})})},owlGallery=function(e,r){var t='<svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M1.16693 12C0.868268 12 0.56961 11.8824 0.342116 11.6484C-0.114039 11.1791 -0.114039 10.4207 0.342116 9.95145L4.19785 5.98516L0.487945 2.03327C0.0411239 1.55564 0.0539569 0.795985 0.517111 0.336351C0.981432 -0.123282 1.71991 -0.110081 2.16673 0.365153L6.67228 5.1655C7.11444 5.63714 7.1086 6.38479 6.65828 6.84803L1.99174 11.6484C1.76424 11.8824 1.46559 12 1.16693 12Z" fill="white"/>\n    </svg>\n    ';void 0==r&&(r="");var n=$(e);n.each(function(e,n){$(n).addClass("owl-carousel owl-theme").owlCarousel(Object.assign(r,{lazyLoad:!0,smartSpeed:1e3,navText:[t,t]}))}).trigger("refresh.owl.carousel")},openMobileMenu=function(){var e=$(".header__burger"),r=$(".mobileMenu"),t=$(".mobileMenu__link");e.on("click",function(){e.toggleClass("active"),r.toggleClass("opened"),e.hasClass("active")?stopScroll():freeScroll()}),t.on("click",function(){r.removeClass("opened"),e.removeClass("active"),freeScroll()})},wrap=document.querySelector(".services__cards"),items=_toConsumableArray(wrap.querySelectorAll(".services__card")),more=document.querySelector(".services__more"),visible=items.length,showhide=function(e){return items.forEach(function(r,t){e>t?r.parentElement||wrap.appendChild(r):r.parentElement&&wrap.removeChild(r)}),e};visible=showhide(6),more.addEventListener("click",function(){visible=showhide(Math.min(visible+6,items.length)),visible>=items.length&&(more.style="display: none")});var toggleModal=function(){var e=$(".modal-picture__close"),r=$(".portfolio__miniPhoto"),t=$(".modal-picture__picture"),n=$(".modal-picture");r.on("click",function(){n.addClass("active");var e=$(this).attr("src");t.attr("src","".concat(e)),stopScroll()}),e.on("click",function(){n.removeClass("active"),t.attr("src",""),freeScroll()})},OutsideClick=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active";$(document).on("mousedown",function(t){$(e).is(t.target)&&0===$(e).has(t.target).length&&($(e).removeClass(r),freeScroll())})};$().ready(function(){contentFadeInOnReady(),bindModalListeners([]),openMobileMenu(),activatePortfolioSlider(),OutsideClick(".modal-picture"),toggleModal(),owlGallery(".portfolio__slider",{nav:!0,navContainer:".portfolio__controls",loop:!0,dots:!1,mouseDrag:!1,touchDrag:!1,responsive:{0:{items:1},500:{items:1},1e3:{items:1}}}),owlGallery(".reviews__slider",{nav:!0,navContainer:".reviews__controls",loop:!1,dots:!0,responsive:{0:{items:1},500:{items:1},1e3:{items:1}}})}),document.addEventListener("DOMContentLoaded",function(){function e(){return r.apply(this,arguments)}function r(){return r=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=t(),o=new FormData(a),0!==n){e.next=11;break}return a.classList.add("_sending"),e.next=7,fetch("send.php",{method:"POST",body:o});case 7:s=e.sent,s.ok?(i.innerHTML="Данные успешно отправлены!",i.classList.add("active","success"),setTimeout(function(){i.classList.remove("active","success")},3e3),a.reset(),a.classList.remove("_sending"),modalWindow.classList.remove("active")):(i.innerHTML="Ошибка",i.classList.add("active","error"),setTimeout(function(){i.classList.remove("active","error")},3e3),a.classList.remove("_sending")),e.next=14;break;case 11:i.innerHTML="Заполните обязательные поля!",i.classList.add("active","error"),setTimeout(function(){i.classList.remove("active","error")},3e3);case 14:case"end":return e.stop()}},e)})),r.apply(this,arguments)}function t(){var e,r=0,t=document.querySelectorAll("._req"),a=_createForOfIteratorHelper(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;o(i),""===i.value&&(n(i),r++)}}catch(s){a.e(s)}finally{a.f()}return r}function n(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function o(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}var a=document.querySelector(".contacts__form"),i=document.querySelector(".popup");a.addEventListener("submit",e)});